(function(e){function t(t){for(var i,o,l=t[0],s=t[1],c=t[2],u=0,p=[];u<l.length;u++)o=l[u],a[o]&&p.push(a[o][0]),a[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={app:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/solidity-scheme-builder/dist/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var d=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var i=n("c21b"),a=n.n(i);a.a},"188d":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("FileLoader",{on:{"files-uploaded":e.handleFiles}}),n("diagram",{ref:"diag",staticStyle:{border:"solid 1px black",width:"100%",height:"100%"},attrs:{modelData:e.diagramData},on:{"model-changed":e.modelChanged,"changed-selection":e.changedSelection}})],1)},r=[],o=(n("7f7f"),n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.showEl,expression:"showEl"}],attrs:{id:"file-drag-drop"}},[n("form",{ref:"fileform"},[n("div",{staticClass:"drop-files"},[e._v("Drop solidiy source the files here!")])])])}),l=[],s={data:function(){return{showEl:!0,dragAndDropCapable:!1,files:[],uploadPercentage:0}},mounted:function(){if(this.dragAndDropCapable=this.determineDragAndDropCapable(),this.dragAndDropCapable){["drag","dragstart","dragend","dragover","dragenter","dragleave","drop"].forEach(function(e){this.$refs.fileform.addEventListener(e,function(e){e.preventDefault(),e.stopPropagation()}.bind(this),!1)}.bind(this));var e=function(e){new Promise(function(t,n){var i=new FileReader;i.readAsText(e,"UTF-8"),i.onprogress=function(){},i.onload=function(){t(),this.files.push({file:e,content:i.result})}.bind(this),i.onerror=function(){console.log(i,arguments)}}.bind(this))}.bind(this),t=[],n=function t(n,i){if(i=i||"",n.isFile)n.file(e);else if(n.isDirectory){var a=n.createReader();a.readEntries(function(e){for(var a=0;a<e.length;a++)t(e[a],i+n.name+"/")})}};this.$refs.fileform.addEventListener("drop",function(e){this.showEl=!1,t=[];for(var i=e.dataTransfer.items.length,a=0;a<i;a++)n(e.dataTransfer.items[a].webkitGetAsEntry());setTimeout(function(){Promise.all(t).then(function(){this.$emit("files-uploaded",this.files)}.bind(this))}.bind(this),500)}.bind(this))}},methods:{determineDragAndDropCapable:function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&"FormData"in window&&"FileReader"in window}}},c=s,d=(n("ed5e"),n("2877")),u=Object(d["a"])(c,o,l,!1,null,null,null);u.options.__file="FileLoader.vue";var p=u.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},f=[],h=n("6f70"),g=h.GraphObject.make,y=function(e){switch(e){case"public":return"+";case"internal":return"i";case"private":return"-";case"protected":return"#";case"default":return" ";default:return e}},b={propertyTemplate:g(h.Panel,"Horizontal",g(h.TextBlock,{isMultiline:!1,editable:!1,width:12},new h.Binding("text","visibility",y)),g(h.TextBlock,{isMultiline:!1,editable:!0},new h.Binding("text","name").makeTwoWay(),new h.Binding("isUnderline","scope",function(e){return"c"===e[0]})),g(h.TextBlock,"",new h.Binding("text","type",function(e){return e?": ":""})),g(h.TextBlock,{isMultiline:!1,editable:!0},new h.Binding("text","type").makeTwoWay()),g(h.TextBlock,{isMultiline:!1,editable:!1},new h.Binding("text","default",function(e){return e?" = "+e:""}))),methodTemplate:g(h.Panel,"Horizontal",g(h.TextBlock,{isMultiline:!1,editable:!1,width:12},new h.Binding("text","visibility",y)),g(h.TextBlock,{isMultiline:!1,editable:!0},new h.Binding("text","name").makeTwoWay()),g(h.TextBlock,"()",new h.Binding("text","parameters",function(e){for(var t="(",n=0;n<e.length;n++){var i=e[n];n>0&&(t+=", "),t+=i.name+": "+i.type}return t+")"})),g(h.TextBlock,"()",new h.Binding("text","modifiers",function(e){return e.join(" , ")})),g(h.TextBlock,"",new h.Binding("text","type",function(e){return e?": ":""})),g(h.TextBlock,{isMultiline:!1,editable:!0},new h.Binding("text","type").makeTwoWay())),eventTemplate:g(h.Panel,"Horizontal",g(h.TextBlock,{isMultiline:!1,editable:!0},new h.Binding("text","name").makeTwoWay()),g(h.TextBlock,"()",new h.Binding("text","parameters",function(e){for(var t="(",n=0;n<e.length;n++){var i=e[n];n>0&&(t+=", "),t+=i.name+": "+i.type}return t+")"}))),importTemplate:g(h.Panel,"Horizontal",g(h.TextBlock,{isMultiline:!1,editable:!0},new h.Binding("text","").makeTwoWay()))},v=b,w=n("6f70"),T=w.GraphObject.make,k={name:"Diagram",props:["modelData"],data:function(){return{diagram:null}},mounted:function(){var e=w.GraphObject.make,t=e(w.Diagram,this.$el,{initialContentAlignment:w.Spot.Center,initialViewportSpot:w.Spot.TopCenter,initialAutoScale:w.Diagram.Uniform,"undoManager.isEnabled":!0,layout:e(w.ForceDirectedLayout)}),n=0;t.nodeTemplate=e(w.Node,"Auto",{locationSpot:w.Spot.Center,fromSpot:w.Spot.AllSides,toSpot:w.Spot.AllSides,click:function(e,t){var n=t.diagram;n.startTransaction("highlight"),n.clearHighlighteds(),t.findLinksOutOf().each(function(e){e.isHighlighted=!0}),t.findNodesOutOf().each(function(e){e.isHighlighted=!0}),n.commitTransaction("highlight")}},e(w.Shape,{fill:"lightyellow"},new w.Binding("stroke","isHighlighted",function(e){return e?"red":"black"}).ofObject()),e(w.Panel,"Table",{defaultRowSeparatorStroke:"black"},e(w.Panel,"Horizontal",e(w.TextBlock,{row:n++,columnSpan:2,margin:3,alignment:w.Spot.Center,font:"bold 12pt sans-serif",isMultiline:!1,editable:!0},new w.Binding("text","name").makeTwoWay()),e(w.TextBlock,{row:n++,columnSpan:2,margin:3,alignment:w.Spot.Center,font:"bold 7pt sans-serif",isMultiline:!1,editable:!0},new w.Binding("text","compiler").makeTwoWay())),e(w.TextBlock,"Variables",{row:n++,font:"italic 10pt sans-serif"}),e(w.Panel,"Vertical",{name:"VARIABLES"},new w.Binding("itemArray","variables"),{row:n++,margin:3,stretch:w.GraphObject.Fill,defaultAlignment:w.Spot.Left,background:"lightyellow",itemTemplate:v.propertyTemplate}),e(w.TextBlock,"Enums",{row:n++,font:"italic 10pt sans-serif"}),e(w.Panel,"Vertical",{name:"ENUMS"},new w.Binding("itemArray","enums"),{row:n++,margin:3,stretch:w.GraphObject.Fill,defaultAlignment:w.Spot.Left,background:"lightyellow",itemTemplate:v.propertyTemplate}),e(w.TextBlock,"Methods",{row:n++,font:"italic 10pt sans-serif"}),e(w.Panel,"Vertical",{name:"METHODS"},new w.Binding("itemArray","methods"),{row:n++,margin:3,stretch:w.GraphObject.Fill,defaultAlignment:w.Spot.Left,background:"lightyellow",itemTemplate:v.methodTemplate}),e(w.TextBlock,"Events",{row:n++,font:"italic 10pt sans-serif"}),e(w.Panel,"Vertical",{name:"METHODS"},new w.Binding("itemArray","events"),{row:n++,margin:3,stretch:w.GraphObject.Fill,defaultAlignment:w.Spot.Left,background:"lightyellow",itemTemplate:v.eventTemplate}),e(w.TextBlock,"Modifiers",{row:n++,font:"italic 10pt sans-serif"}),e(w.Panel,"Vertical",{name:"METHODS"},new w.Binding("itemArray","modifiers"),{row:n++,margin:3,stretch:w.GraphObject.Fill,defaultAlignment:w.Spot.Left,background:"lightyellow",itemTemplate:v.eventTemplate}),e(w.TextBlock,"Imports",{row:n++,font:"italic 10pt sans-serif"}),e(w.Panel,"Vertical",new w.Binding("itemArray","imports"),{row:n++,margin:3,stretch:w.GraphObject.Fill,defaultAlignment:w.Spot.Left,background:"lightyellow",itemTemplate:v.importTemplate}))),t.linkTemplate=e(w.Link,{routing:w.Link.AvoidsNodes,curve:w.Link.JumpOver,reshapable:!0,resegmentable:!0,relinkableFrom:!0,relinkableTo:!0},new w.Binding("isLayoutPositioned","relationship",function(e){return"generalization"===e}),e(w.Shape,new w.Binding("stroke","isHighlighted",function(e){return e?"red":"black"}).ofObject(),new w.Binding("strokeWidth","isHighlighted",function(e){return e?3:1}).ofObject()),e(w.Shape,{toArrow:"Standard",strokeWidth:0},new w.Binding("fill","isHighlighted",function(e){return e?"red":"black"}).ofObject())),t.click=function(e){t.startTransaction("no highlighteds"),t.clearHighlighteds(),t.commitTransaction("no highlighteds")},this.diagram=t},watch:{modelData:function(e){this.updateModel(e)}},methods:{model:function(){return this.diagram.model},updateModel:function(e){var t=[];e.forEach(function(e){e.links.forEach(function(n){t.push({from:e.id,to:n,relationship:"aggregation"})})}),this.diagram.model=T(w.GraphLinksModel,{copiesArrays:!0,copiesArrayObjects:!0,nodeDataArray:e,linkDataArray:t})},updateDiagramFromData:function(){this.diagram.startTransaction(),this.diagram.updateAllRelationshipsFromData(),this.diagram.updateAllTargetBindings(),this.diagram.commitTransaction("updated")}}},x=k,B=(n("d318"),Object(d["a"])(x,m,f,!1,null,"f3d374e4",null));B.options.__file="Diagram.vue";var S=B.exports,A=(n("a481"),{getFunctionModifiersArray:function(e){var t=[];return e.forEach(function(e){t.push(e.name)}),t},getFunctionArgumentsArray:function(e){var t=[];return e.forEach(function(e){t.push({type:e.typeName.name,name:e.name})}),t},getModifierParametersArray:function(e){var t=[];return e["type"]&&"ParameterList"==e["type"]&&e.parameters.forEach(function(e){t.push({type:e.typeName.name,name:e.name})}),t},getVariableString:function(e){var t="",n="",i="";return e.variables.forEach(function(e){t="ArrayTypeName"==e.typeName.type?e.typeName.baseTypeName.name+"[]":"UserDefinedTypeName"==e.typeName.type?e.typeName.namePath:e.typeName.name,n=e.name,i=e.visibility}),{name:n,type:t,visibility:i}},getEnumString:function(e){var t=e.members.map(function(e){return e.name}).join(", ");return{name:e.name,type:"Enum",visibility:"public",values:t}},getEventParametersArray:function(e){var t;return t=[],e.parameters.forEach(function(e){var n="";n="ArrayTypeName"==e.typeName.type?e.typeName.baseTypeName.name+"[]":e.typeName.name,t.push({type:n,name:e.name})}),t},printContractSubNodes:function(e,t){t.forEach(function(t){"FunctionDefinition"==t.type&&null!==t.name?e.methods.push({name:t.name,modifiers:A.getFunctionModifiersArray(t.modifiers),parameters:A.getFunctionArgumentsArray(t.parameters.parameters),visibility:t.visibility}):"EventDefinition"==t.type?e.events.push({name:t.name,parameters:A.getEventParametersArray(t.parameters)}):"StateVariableDeclaration"==t.type?e.variables.push(A.getVariableString(t)):"ModifierDefinition"==t.type?e.modifiers.push({name:t.name,parameters:A.getModifierParametersArray(t.parameters)}):"EnumDefinition"==t.type&&e.enums.push(A.getEnumString(t))})},printContract:function(e,t){var n={id:e.replace(/^.*[\\\/]/,""),key:e.replace(/^.*[\\\/]/,""),variables:[],enums:[],methods:[],events:[],modifiers:[],imports:[],links:[],compiler:"",filename:e.replace("./","")};return t.forEach(function(e){"ContractDefinition"==e.type?(n.name=e.name,A.printContractSubNodes(n,e.subNodes)):"ImportDirective"==e.type?(n.imports.push(e.path.replace("./","")),n.links.push(e.path.replace(/^.*[\\\/]/,""))):"PragmaDirective"==e.type&&(n.compiler=e.name+" "+e.value)}),n},readContract:function(e,t,n){var i=parser.parse(n);"SourceUnit"==i.type&&t.list.push(A.printContract(e,i.children))}}),D=A,E={name:"app",data:function(){return{diagramData:[]}},methods:{model:function(){return this.$refs.diag.model()},handleFiles:function(e){var t=[],n=[];e.forEach(function(e){n.push(new Promise(function(n,i){try{var a=window.solidityParser(e.content);"SourceUnit"==a.type&&t.push(D.printContract(e.file.name,a.children)),n()}catch(e){console.log(e),n()}}))}),setTimeout(function(){Promise.all(n).then(function(){this.diagramData=t}.bind(this),function(e){console.log(e)})}.bind(this),100)},modelChanged:function(e){e.isTransactionFinished&&(this.savedModelText=e.model.toJson())},changedSelection:function(e){var t=e.diagram.selection.first();t instanceof go.Node?(this.currentNode=t,this.currentNodeText=t.data.text):(this.currentNode=null,this.currentNodeText="")}},components:{FileLoader:p,Diagram:S}},P=E,O=(n("034f"),Object(d["a"])(P,a,r,!1,null,null,null));O.options.__file="App.vue";var M=O.exports;i["a"].config.productionTip=!1,i["a"].config.assetPublicPath="/dist/",new i["a"]({render:function(e){return e(M)}}).$mount("#app")},"9dd2":function(e,t,n){},c21b:function(e,t,n){},d318:function(e,t,n){"use strict";var i=n("9dd2"),a=n.n(i);a.a},ed5e:function(e,t,n){"use strict";var i=n("188d"),a=n.n(i);a.a}});
//# sourceMappingURL=app.f898202a.js.map